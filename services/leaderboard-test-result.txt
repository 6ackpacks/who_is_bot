[1m[36m
████████████████████████████████████████████████████████████████████████████████[0m
[1m[36m排行榜和统计功能并发测试[0m
[1m[36m████████████████████████████████████████████████████████████████████████████████
[0m
[34mℹ 测试配置:[0m
  服务器: http://localhost:80
  并发用户数: 20
  压力测试迭代: 5


================================================================================
[1m[36m测试1: 并发获取排行榜[0m
================================================================================

[34mℹ 模拟 20 个用户同时获取排行榜...[0m
[34mℹ 成功: 20/20[0m
[34mℹ 失败: 0/20[0m
[34mℹ 平均响应时间: 46.95ms[0m
[32m✓ 排行榜数据格式正确，包含 10 条记录[0m
[32m✓ 排行榜数据一致性检查通过[0m
[34mℹ 
排行榜前3名示例:[0m
  1. TestUser20 - 准确率: 94.5%, 判定数: 290
  2. TestUser19 - 准确率: 93.5%, 判定数: 280
  3. TestUser18 - 准确率: 92.5%, 判定数: 270

================================================================================
[1m[36m测试2: 并发获取用户统计[0m
================================================================================

[34mℹ 模拟 20 个用户同时获取统计信息...[0m
[34mℹ 获取到 20 个用户ID[0m
[34mℹ 成功: 20/20[0m
[34mℹ 失败: 0/20[0m
[34mℹ 平均响应时间: 23.00ms[0m
[34mℹ 
用户统计示例 (前3个):[0m
  用户 1:
    总判定: 290
    准确率: 94.5%
    连胜: 24 (最高: 0)
    等级: AI小白
  用户 2:
    总判定: 280
    准确率: 93.5%
    连胜: 23 (最高: 0)
    等级: AI小白
  用户 3:
    总判定: 270
    准确率: 92.5%
    连胜: 22 (最高: 0)
    等级: AI小白

================================================================================
[1m[36m测试3: 混合场景测试[0m
================================================================================

[34mℹ 同时进行排行榜查询和用户统计查询...[0m
[34mℹ 排行榜查询: 10/10 成功[0m
[34mℹ 统计查询: 10/10 成功[0m
[34mℹ 平均响应时间: 17.45ms[0m
[34mℹ 排行榜平均响应: 18.70ms[0m
[34mℹ 统计平均响应: 16.20ms[0m

================================================================================
[1m[36m测试4: 压力测试[0m
================================================================================

[34mℹ 每个用户连续发送 5 次请求，总共 100 次请求...[0m
[34mℹ 总请求数: 100[0m
[34mℹ 成功: 100[0m
[34mℹ 失败: 0[0m
[34mℹ 总耗时: 180ms[0m
[34mℹ 吞吐量: 555.56 请求/秒[0m
[34mℹ 平均响应时间: 105.24ms[0m
[34mℹ 响应时间 P50: 107ms[0m
[34mℹ 响应时间 P95: 176ms[0m
[34mℹ 响应时间 P99: 180ms[0m
[33m⚠ 性能下降: 275.03% (首批: 44.45ms, 末批: 166.70ms)[0m

================================================================================
[1m[36m测试报告[0m
================================================================================

[1m
【总体统计】[0m
  总请求数: 162
  成功请求: 162 (100.00%)
  失败请求: 0 (0.00%)
[1m
【响应时间统计】[0m
  平均响应时间: 76.01ms
  最小响应时间: 13ms
  最大响应时间: 180ms
  P50: 61ms
  P95: 168ms
  P99: 179ms
[1m
【测试场景结果】[0m
  测试 1: 成功 20, 失败 0
  测试 2: 成功 20, 失败 0
  测试 3: 成功 20, 失败 0
  测试 4: 成功 100, 失败 0
[1m
【性能评估】[0m
[32m✓ 响应时间优秀 (< 100ms)[0m
[32m✓ 成功率: 100%[0m
[1m
【优化建议】[0m
  • 建议添加数据库连接池配置
  • 考虑实现排行榜数据的定时预计算
  • 为高频查询接口添加 CDN 缓存
[1m[32m
████████████████████████████████████████████████████████████████████████████████[0m
[1m[32m测试完成！[0m
[1m[32m████████████████████████████████████████████████████████████████████████████████
[0m

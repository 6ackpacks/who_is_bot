<!--pages/leaderboard/leaderboard.wxml-->
<view class="leaderboard-container">

  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <view class="header-title">
      <text class="title-main">å…¨ç½‘æœ€å¼º</text>
      <text class="title-highlight">èµ›åšä¾¦æ¢æ¦œ</text>
    </view>
    <text class="header-subtitle">æ¯æ—¥ 24:00 æ›´æ–° Â· å¯»æ‰¾äººç±»æœ€å¼ºé¹°çœ¼</text>
  </view>

  <!-- è¡¨å¤´ -->
  <view class="table-header">
    <text class="th-rank">#</text>
    <text class="th-detective">DETECTIVE</text>
    <view class="th-stats">
      <text class="th-busted">BUSTED</text>
      <text class="th-strk">STRK</text>
    </view>
  </view>

  <!-- æ’è¡Œæ¦œåˆ—è¡¨ -->
  <scroll-view scroll-y class="leaderboard-list">
    <view wx:for="{{users}}" wx:key="id" class="user-item">

      <!-- æ’åå›¾æ ‡ -->
      <view class="rank-icon">
        <text wx:if="{{index === 0}}" class="icon-trophy">ğŸ†</text>
        <text wx:elif="{{index === 1}}" class="icon-medal silver">ğŸ¥ˆ</text>
        <text wx:elif="{{index === 2}}" class="icon-medal bronze">ğŸ¥‰</text>
        <text wx:else class="rank-number">{{index + 1}}</text>
      </view>

      <!-- ç”¨æˆ·ä¿¡æ¯ -->
      <view class="user-info">
        <image src="{{item.avatar}}" class="user-avatar"></image>
        <view class="user-details">
          <view class="user-name-row">
            <text class="user-name">{{item.username}}</text>
            <view class="level-badge badge-{{item.levelClass}}">
              <text class="badge-text">{{item.level}}</text>
            </view>
          </view>
          <view class="user-accuracy">
            <text class="accuracy-icon">â†—</text>
            <text class="accuracy-text">å‘¨å‡†ç¡®ç‡ {{item.weeklyAccuracy}}%</text>
          </view>
        </view>
      </view>

      <!-- ç»Ÿè®¡æ•°æ® -->
      <view class="user-stats">
        <text class="stat-busted">{{item.bustedCount}}</text>
        <view class="stat-streak">
          <text class="streak-icon">âš¡</text>
          <text class="streak-value">{{item.maxStreak}}</text>
        </view>
      </view>

    </view>

    <!-- åº•éƒ¨å ä½ -->
    <view class="bottom-spacer"></view>
  </scroll-view>

</view>

<!--pages/leaderboard/leaderboard.wxml - Podium Redesign-->
<view class="leaderboard-container">

  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <text class="page-title">ä¾¦æ¢æ¦œ</text>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="loading-container">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½æ’è¡Œæ¦œä¸­...</text>
  </view>

  <!-- é”™è¯¯çŠ¶æ€ -->
  <view wx:elif="{{error}}" class="error-container">
    <text class="error-text">{{error}}</text>
    <button class="retry-btn" bindtap="handleRetry">é‡æ–°åŠ è½½</button>
  </view>

  <!-- æ’è¡Œæ¦œå†…å®¹ -->
  <scroll-view wx:else scroll-y class="leaderboard-content">

    <!-- é¢†å¥–å° - å‰ä¸‰å -->
    <view class="podium-container">

      <!-- ç¬¬äºŒå (å·¦ä¾§) -->
      <view wx:if="{{users[1]}}" class="podium-item podium-second">
        <view class="podium-avatar-wrapper">
          <image src="{{users[1].avatar}}" class="podium-avatar avatar-second"></image>
        </view>
        <view class="podium-base base-second">
          <text class="podium-rank rank-second">2</text>
        </view>
      </view>

      <!-- ç¬¬ä¸€å (ä¸­é—´) -->
      <view wx:if="{{users[0]}}" class="podium-item podium-first">
        <view class="crown-icon">ğŸ‘‘</view>
        <view class="podium-avatar-wrapper">
          <image src="{{users[0].avatar}}" class="podium-avatar avatar-first"></image>
        </view>
        <view class="podium-base base-first">
          <text class="podium-rank rank-first">1</text>
        </view>
      </view>

      <!-- ç¬¬ä¸‰å (å³ä¾§) -->
      <view wx:if="{{users[2]}}" class="podium-item podium-third">
        <view class="podium-avatar-wrapper">
          <image src="{{users[2].avatar}}" class="podium-avatar avatar-third"></image>
        </view>
        <view class="podium-base base-third">
          <text class="podium-rank rank-third">3</text>
        </view>
      </view>

    </view>

    <!-- æ’åå¡ç‰‡ - ç¬¬å››ååŠä»¥å -->
    <view class="ranking-cards">
      <view wx:for="{{users}}" wx:key="id" wx:if="{{index >= 3}}" class="ranking-card">

        <!-- æ’åæ•°å­— -->
        <text class="card-rank">{{index + 1}}</text>

        <!-- å¤´åƒ -->
        <image src="{{item.avatar}}" class="card-avatar"></image>

        <!-- ç”¨æˆ·ä¿¡æ¯ -->
        <view class="card-info">
          <text class="card-name">{{item.username}}</text>
          <text class="card-accuracy">å‡†ç¡®ç‡ {{item.weeklyAccuracy}}%</text>
        </view>

        <!-- ç»Ÿè®¡æ•°æ® -->
        <view class="card-stats">
          <text class="card-score">{{item.totalJudged}}</text>
          <text class="card-label">é¢˜æ•°</text>
        </view>

      </view>
    </view>

    <!-- åº•éƒ¨å ä½ -->
    <view class="bottom-spacer"></view>

  </scroll-view>

</view>

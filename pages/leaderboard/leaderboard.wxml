<!--pages/leaderboard/leaderboard.wxml-->
<view class="leaderboard-container">

  <!-- åˆ†ç±»æ ‡ç­¾ -->
  <view class="category-tabs">
    <view class="tab-item {{activeType === 'all' ? 'tab-active' : ''}}"
          data-type="all"
          bindtap="handleTypeChange">
      <text class="tab-icon">ğŸ†</text>
      <text class="tab-label">å…¨éƒ¨</text>
    </view>
    <view class="tab-item {{activeType === 'video' ? 'tab-active' : ''}}"
          data-type="video"
          bindtap="handleTypeChange">
      <text class="tab-icon">ğŸ¬</text>
      <text class="tab-label">è§†é¢‘</text>
    </view>
    <view class="tab-item {{activeType === 'image' ? 'tab-active' : ''}}"
          data-type="image"
          bindtap="handleTypeChange">
      <text class="tab-icon">ğŸ–¼ï¸</text>
      <text class="tab-label">å›¾ç‰‡</text>
    </view>
    <view class="tab-item {{activeType === 'text' ? 'tab-active' : ''}}"
          data-type="text"
          bindtap="handleTypeChange">
      <text class="tab-icon">ğŸ“</text>
      <text class="tab-label">æ–‡å­—</text>
    </view>
  </view>

  <!-- åˆ—è¡¨æ ‡é¢˜ -->
  <view class="list-header">
    <text class="header-left">æ¨¡å‹åç§°</text>
    <text class="header-right">è¯¯åˆ¤ç‡</text>
  </view>

  <!-- æ’è¡Œæ¦œåˆ—è¡¨ -->
  <scroll-view scroll-y class="leaderboard-list">
    <view wx:for="{{filteredData}}"
          wx:key="id"
          class="leaderboard-item">

      <!-- æ’å -->
      <view class="rank-badge rank-{{index < 3 ? index : 'other'}}">
        <text class="rank-number">{{index + 1}}</text>
      </view>

      <!-- æ¨¡å‹ä¿¡æ¯ -->
      <view class="model-info">
        <view class="model-header">
          <text class="model-name">{{item.modelName}}</text>
          <text class="model-company">{{item.company}}</text>
        </view>
        <view class="model-meta">
          <text class="model-type">{{item.type === 'image' ? 'å›¾åƒ' : item.type === 'text' ? 'æ–‡æœ¬' : 'è§†é¢‘'}}æ¨¡å‹</text>
          <text class="meta-dot">â€¢</text>
          <text class="model-tests">{{item.totalTests}} æ¬¡æµ‹è¯•</text>
        </view>
      </view>

      <!-- æ¬ºéª—ç‡ -->
      <view class="deception-rate">
        <text class="rate-value">{{item.deceptionRate}}%</text>
      </view>
    </view>

    <!-- åº•éƒ¨å ä½ -->
    <view class="bottom-spacer"></view>
  </scroll-view>

</view>

<!--pages/profile/profile.wxml-->
<view class="profile-container">
  <scroll-view scroll-y class="profile-scroll">

    <!-- ä¸ªäººä¿¡æ¯å¤´éƒ¨ -->
    <view class="profile-header">
      <!-- è®¾ç½®æŒ‰é’® -->
      <view class="settings-btn" bindtap="handleSettings">
        <text class="settings-icon">âš™ï¸</text>
      </view>

      <!-- å¤´åƒ -->
      <view class="avatar-wrapper">
        <image src="{{userInfo.avatar}}" class="avatar-image" mode="aspectFill"></image>
        <view class="level-badge">Lv.{{userInfo.level}}</view>
      </view>

      <!-- ç”¨æˆ·å -->
      <view class="username">{{userInfo.nickname}}</view>
      <view class="user-id">UID: {{userInfo.uid}}</view>

      <!-- ç»Ÿè®¡æ•°æ® -->
      <view class="stats-row">
        <view class="stat-item">
          <text class="stat-value">{{stats.accuracy}}%</text>
          <text class="stat-label">å‡†ç¡®ç‡</text>
        </view>
        <view class="stat-item">
          <text class="stat-value">{{stats.totalJudged}}</text>
          <text class="stat-label">å·²åˆ¤å®š</text>
        </view>
        <view class="stat-item">
          <text class="stat-value">{{stats.streak}}</text>
          <text class="stat-label">è¿ç»­æ­£ç¡®</text>
        </view>
      </view>
    </view>

    <!-- æˆå°±å‹‹ç«  -->
    <view class="achievements-section">
      <view class="section-title">æˆå°±å‹‹ç« </view>

      <view wx:for="{{achievements}}" wx:key="id" class="achievement-item">
        <view class="achievement-icon" style="background-color: {{item.bgColor}}; color: {{item.iconColor}}">
          <text class="icon-text">{{item.icon}}</text>
        </view>
        <view class="achievement-info">
          <view class="achievement-name">{{item.name}}</view>
          <view class="achievement-desc">{{item.description}}</view>
        </view>
        <view class="achievement-progress">
          <text class="progress-text">{{item.progress}}/{{item.total}}</text>
        </view>
      </view>

      <!-- åˆ†äº«æŒ‰é’® -->
      <button class="share-btn" bindtap="handleShare">
        <text class="share-icon">ğŸ“¤</text>
        <text class="share-text">åˆ†äº«æˆ‘çš„ä¸»é¡µ</text>
      </button>
    </view>

    <!-- åº•éƒ¨å ä½ -->
    <view class="bottom-spacer"></view>

  </scroll-view>
</view>
